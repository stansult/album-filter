<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Album Filter Playground</title>
    <link rel="stylesheet" href="styles.css?v=1">
  </head>
  <body>
    <main class="page">
      <h1>Album Filter</h1>
      <p class="intro">
        Album Filter is a Chrome extension that helps you find albums faster on pages with long lists.
      </p>
      <ul>
        <li>Chrome Web Store: <a href="https://chromewebstore.google.com/detail/hflbafejehpoclienjonceojnnlckahm"><img src="icon-inline.svg" width="15" hspace="6" alt="Album Filter extension in Chrome Web Store">Album Filter</a></li>
        <li>Github project: <a href="https://github.com/stansult/album-filter" target="_blank" rel="noopener noreferrer"><svg width="15" height="15" viewBox="0 0 16 16" aria-hidden="true" focusable="false" style="vertical-align:text-bottom; margin-right: 6px; margin-left: 6px;"><path fill="currentColor" d="M8 .2a8 8 0 0 0-2.53 15.6c.4.07.55-.17.55-.38v-1.33c-2.24.49-2.71-1.08-2.71-1.08-.36-.93-.88-1.18-.88-1.18-.72-.49.06-.48.06-.48.79.06 1.2.82 1.2.82.7 1.2 1.84.85 2.29.65.07-.51.27-.85.49-1.04-1.79-.2-3.67-.9-3.67-4a3.13 3.13 0 0 1 .83-2.18 2.9 2.9 0 0 1 .08-2.15s.68-.22 2.22.83a7.6 7.6 0 0 1 4.04 0c1.54-1.05 2.22-.83 2.22-.83.3.72.18 1.58.09 2.15a3.13 3.13 0 0 1 .83 2.18c0 3.1-1.88 3.79-3.67 4 .28.24.53.73.53 1.47v2.17c0 .21.14.45.55.38A8 8 0 0 0 8 .2Z"/></svg>Album Filter</a></li>
      </ul>

      <h2>Album Filter Playground</h2>
      <p class="intro">
        This page simulates a Facebook-like albums list with infinite loading so Album Filter can be tested locally.
      </p>

      <details class="howto">
        <summary>How to use this test page</summary>
        <ol>
          <li>Configure total albums, batch size, and loading delay.</li>
          <li>Click <strong>Generate list</strong> to create a new dataset.</li>
          <li>Scroll to trigger infinite loading, or use load controls.</li>
          <li>Run the extension on this page and test filtering behavior.</li>
        </ol>
      </details>

      <section class="configure-section">
        <h2>Configure test album list</h2>

        <div class="controls-grid">
          <label class="control">
            <span>Total albums</span>
            <input id="total-albums" type="number" min="20" max="5000" value="780">
          </label>

          <label class="control">
            <span>Batch size</span>
            <input id="batch-size" type="number" min="6" max="120" value="24">
          </label>

          <label class="control">
            <span>Min load delay (ms)</span>
            <input id="min-delay" type="number" min="100" max="5000" value="1000">
          </label>

          <label class="control">
            <span>Max load delay (ms)</span>
            <input id="max-delay" type="number" min="100" max="8000" value="2000">
          </label>

          <label class="control">
            <span>Desktop columns</span>
            <input id="desktop-columns" type="number" min="4" max="8" value="6">
          </label>

          <label class="control">
            <span>Tricky names (%)</span>
            <input id="tricky-percent" type="number" min="0" max="100" value="18">
          </label>

          <label class="control">
            <span>Name style</span>
            <select id="name-style">
              <option value="mixed">Mixed (realistic)</option>
              <option value="city-year">City + year</option>
              <option value="events">Events/family</option>
              <option value="tech">Tech/screenshot style</option>
            </select>
          </label>

          <label class="control">
            <span>Random seed</span>
            <input id="seed" type="text" value="album-filter-poc">
          </label>
        </div>

        <div class="control-row">
          <label class="check">
            <input id="include-create" type="checkbox" checked>
            Include "Create album" card
          </label>
          <label class="check">
            <input id="show-menu" type="checkbox" checked>
            Show "More options" dots on cards
          </label>
        </div>

        <div class="actions">
          <button id="generate" type="button">Generate list</button>
          <button id="load-next" type="button">Load next batch</button>
          <button id="auto-load" type="button" aria-pressed="false">Auto-load all</button>
          <button id="reset-scroll" type="button">Reset scroll</button>
        </div>

        <div class="notes">
          <div class="notes-title">Notes:</div>
          <ul class="notes-list">
            <li>This intentionally simulates a long, paged album list with 1-2 second delays.</li>
            <li>Album cards expose stable test attributes (for extension integration tests).</li>
            <li>List completion is represented by no more batches plus an explicit test-only end marker.</li>
          </ul>
        </div>
      </section>

      <section class="test-section">
        <h2>Test album list</h2>
        <div class="status-bar" id="status" aria-live="polite">Idle</div>

        <div class="fb-shell" id="fb-shell">
          <div class="fb-header-row">
            <h3>Photos</h3>
            <div class="fb-header-actions">
              <button type="button" class="fb-action-link">Add photos/video</button>
              <button type="button" class="fb-icon-btn" aria-label="More">...</button>
            </div>
          </div>

          <div class="fb-tabs" role="tablist" aria-label="Photo sections">
            <button type="button" class="tab" aria-selected="false">Photos of You</button>
            <button type="button" class="tab" aria-selected="false">Your photos</button>
            <button type="button" class="tab active" aria-selected="true">Albums</button>
          </div>

          <div class="album-grid" id="album-grid" data-af-album-grid></div>
          <div class="loading-layer hidden" id="loading-layer" data-af-loading></div>
          <div class="end-marker hidden" id="end-marker" data-af-end>End of albums in test dataset</div>
          <div class="scroll-sentinel" id="scroll-sentinel" aria-hidden="true"></div>
        </div>
      </section>
    </main>

    <script src="script.js?v=1"></script>
  </body>
</html>
